
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3. Modelos Matemáticos na Partilha &#8212; Modelos Matemáticos para a Cidadania</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=cf983406" />
    <link rel="stylesheet" type="text/css" href="_static/.ipynb_checkpoints/custom-checkpoint.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Cap_03';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="2. Modelos Matemáticos nas Eleições" href="Cap_02.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Modelos Matemáticos para a Cidadania - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Modelos Matemáticos para a Cidadania - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Cap_01.html">1. Introdução aos Modelos Matemáticos na Cidadania</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cap_02.html">2. Modelos Matemáticos nas Eleições</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">3. Modelos Matemáticos na Partilha</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/pjocoelho/JupyterBook_10" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/pjocoelho/JupyterBook_10/edit/main/Cap_03.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/pjocoelho/JupyterBook_10/issues/new?title=Issue%20on%20page%20%2FCap_03.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Cap_03.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Modelos Matemáticos na Partilha</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#metodos-de-partilha-proporcional">3.1. Métodos de partilha proporcional</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sistemas-de-distribuicao-de-mandatos">3.2. Sistemas de distribuição de mandatos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-de-hondt">3.2.1. Método de Hondt</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-de-sainte-lague">3.2.2. Método de Sainte-Laguë</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacao-da-comparacao-entre-os-dois-metodos">3.2.3. Visualização da comparação entre os dois métodos</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-e-comparacao-de-sistemas-eleitorais">3.3. Análise e Comparação de Sistemas Eleitorais</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#questoes">3.4. Questões</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#maioria-simples">3.4.1. Maioria Simples</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#maioria-absoluta">3.4.2. Maioria Absoluta</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodos-eleitorais">3.4.3. Métodos Eleitorais</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="modelos-matematicos-na-partilha">
<h1><span class="section-number">3. </span>Modelos Matemáticos na Partilha<a class="headerlink" href="#modelos-matematicos-na-partilha" title="Link to this heading">#</a></h1>
<p>Os modelos matemáticos de partilha são utilizados para dividir recursos ou bens de forma justa entre várias partes. Pretendem garantir que cada parte recebe uma porção proporcional ao seu direito ou contribuição.</p>
<p><strong>Aplicações</strong></p>
<p>Esses modelos são aplicados em diversos contextos:</p>
<ul class="simple">
<li><p><strong>Eleições:</strong> Para converter votos em mandatos de forma proporcional.</p></li>
<li><p><strong>Alocação de Fundos:</strong> Para distribuir recursos financeiros entre diferentes departamentos ou projetos.</p></li>
<li><p><strong>Divisão de Bens:</strong> Em contextos legais, como heranças ou dissoluções de sociedades.</p></li>
</ul>
<p><strong>Princípios Fundamentais</strong></p>
<ul class="simple">
<li><p><strong>Princípio da Quota:</strong> Garante que cada parte recebe uma quantidade de recursos dentro de um intervalo específico, baseado na sua proporção de votos ou direitos.</p></li>
</ul>
<p><strong>Como Funciona:</strong></p>
<p><strong>Quota Inferior:</strong> Cada parte deve receber pelo menos a parte inteira da sua quota.</p>
<p><strong>Quota Superior:</strong> Nenhuma parte deve receber mais do que a parte inteira da sua quota mais um.</p>
<p><strong>Exemplo:</strong> Se um partido tem direito a 2,4 assentos, ele deve receber pelo menos 2 assentos (quota inferior) e no máximo 3 assentos (quota superior).</p>
<ul class="simple">
<li><p><strong>Princípio da Monotonia:</strong> Garante que, se a quantidade total de recursos aumenta, nenhuma parte deve receber menos recursos do que antes. Do mesmo modo, se a quantidade total de recursos diminui, nenhuma parte deve receber mais recursos do que anteriormente.</p></li>
</ul>
<p><strong>Como Funciona:</strong></p>
<p><strong>Monotonia Positiva:</strong> Se o número total de recursos aumenta, a alocação de cada parte não deve diminuir.</p>
<p><strong>Monotonia Negativa:</strong> Se o número total de recursos diminui, a alocação de cada parte não deve aumentar.</p>
<p><strong>Exemplo:</strong> Se um partido inicialmente recebe 3 mandatos com 100 mandatos totais, e o número total de mandatos aumenta para 110, o partido não deve receber menos de 3 mandatos.</p>
<section id="metodos-de-partilha-proporcional">
<h2><span class="section-number">3.1. </span>Métodos de partilha proporcional<a class="headerlink" href="#metodos-de-partilha-proporcional" title="Link to this heading">#</a></h2>
</section>
<section id="sistemas-de-distribuicao-de-mandatos">
<h2><span class="section-number">3.2. </span>Sistemas de distribuição de mandatos<a class="headerlink" href="#sistemas-de-distribuicao-de-mandatos" title="Link to this heading">#</a></h2>
<section id="metodo-de-hondt">
<h3><span class="section-number">3.2.1. </span>Método de Hondt<a class="headerlink" href="#metodo-de-hondt" title="Link to this heading">#</a></h3>
<p>O método de Hondt é um sistema de representação proporcional usado para atribuir mandatos em assembleias legislativas.</p>
<p><strong>Exemplo</strong></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">metodo_hondt</span><span class="p">(</span><span class="n">votos</span><span class="p">,</span> <span class="n">lugares</span><span class="p">):</span>
    <span class="n">partidos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">votos</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">distribuicao</span> <span class="o">=</span> <span class="p">{</span><span class="n">partido</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">partido</span> <span class="ow">in</span> <span class="n">partidos</span><span class="p">}</span>
    
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lugares</span><span class="p">):</span>
        <span class="n">quocientes</span> <span class="o">=</span> <span class="p">{</span><span class="n">partido</span><span class="p">:</span> <span class="n">votos</span><span class="p">[</span><span class="n">partido</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">distribuicao</span><span class="p">[</span><span class="n">partido</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">partido</span> <span class="ow">in</span> <span class="n">partidos</span><span class="p">}</span>
        <span class="n">vencedor</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">quocientes</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">quocientes</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
        <span class="n">distribuicao</span><span class="p">[</span><span class="n">vencedor</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="k">return</span> <span class="n">distribuicao</span>

<span class="n">votos</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Partido A&#39;</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span> <span class="s1">&#39;Partido B&#39;</span><span class="p">:</span> <span class="mi">80000</span><span class="p">,</span> <span class="s1">&#39;Partido C&#39;</span><span class="p">:</span> <span class="mi">30000</span><span class="p">,</span> <span class="s1">&#39;Partido D&#39;</span><span class="p">:</span> <span class="mi">20000</span><span class="p">}</span>
<span class="n">lugares</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">resultado</span> <span class="o">=</span> <span class="n">metodo_hondt</span><span class="p">(</span><span class="n">votos</span><span class="p">,</span> <span class="n">lugares</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Distribuição de lugares pelo método de Hondt:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">partido</span><span class="p">,</span> <span class="n">num_lugares</span> <span class="ow">in</span> <span class="n">resultado</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">partido</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">num_lugares</span><span class="si">}</span><span class="s2"> lugares&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Distribuição de lugares pelo método de Hondt:
Partido A: 5 lugares
Partido B: 4 lugares
Partido C: 1 lugares
Partido D: 0 lugares
</pre></div>
</div>
</div>
</div>
</section>
<section id="metodo-de-sainte-lague">
<h3><span class="section-number">3.2.2. </span>Método de Sainte-Laguë<a class="headerlink" href="#metodo-de-sainte-lague" title="Link to this heading">#</a></h3>
<p>O método de Sainte-Laguë é outra forma de distribuição proporcional de assentos, que tende a favorecer partidos menores em comparação com o método de Hondt.</p>
<p><strong>Exemplo</strong></p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">metodo_sainte_lague</span><span class="p">(</span><span class="n">votos</span><span class="p">,</span> <span class="n">lugares</span><span class="p">):</span>
    <span class="n">partidos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">votos</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">distribuicao</span> <span class="o">=</span> <span class="p">{</span><span class="n">partido</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">partido</span> <span class="ow">in</span> <span class="n">partidos</span><span class="p">}</span>
    
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lugares</span><span class="p">):</span>
        <span class="n">quocientes</span> <span class="o">=</span> <span class="p">{</span><span class="n">partido</span><span class="p">:</span> <span class="n">votos</span><span class="p">[</span><span class="n">partido</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">distribuicao</span><span class="p">[</span><span class="n">partido</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">partido</span> <span class="ow">in</span> <span class="n">partidos</span><span class="p">}</span>
        <span class="n">vencedor</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">quocientes</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">quocientes</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
        <span class="n">distribuicao</span><span class="p">[</span><span class="n">vencedor</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="k">return</span> <span class="n">distribuicao</span>

<span class="c1"># Exemplo</span>

<span class="n">votos</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Partido A&#39;</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span> <span class="s1">&#39;Partido B&#39;</span><span class="p">:</span> <span class="mi">80000</span><span class="p">,</span> <span class="s1">&#39;Partido C&#39;</span><span class="p">:</span> <span class="mi">30000</span><span class="p">,</span> <span class="s1">&#39;Partido D&#39;</span><span class="p">:</span> <span class="mi">20000</span><span class="p">}</span>
<span class="n">lugares</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">resultado</span> <span class="o">=</span> <span class="n">metodo_sainte_lague</span><span class="p">(</span><span class="n">votos</span><span class="p">,</span> <span class="n">lugares</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Distribuição de lugares pelo método de Sainte-Laguë:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">partido</span><span class="p">,</span> <span class="n">num_lugares</span> <span class="ow">in</span> <span class="n">resultado</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">partido</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">num_lugares</span><span class="si">}</span><span class="s2"> lugares&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Distribuição de lugares pelo método de Sainte-Laguë:
Partido A: 4 lugares
Partido B: 4 lugares
Partido C: 1 lugares
Partido D: 1 lugares
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizacao-da-comparacao-entre-os-dois-metodos">
<h3><span class="section-number">3.2.3. </span>Visualização da comparação entre os dois métodos<a class="headerlink" href="#visualizacao-da-comparacao-entre-os-dois-metodos" title="Link to this heading">#</a></h3>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">def</span> <span class="nf">metodo_hondt</span><span class="p">(</span><span class="n">votos</span><span class="p">,</span> <span class="n">lugares</span><span class="p">):</span>
    <span class="n">partidos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">votos</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">distribuicao</span> <span class="o">=</span> <span class="p">{</span><span class="n">partido</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">partido</span> <span class="ow">in</span> <span class="n">partidos</span><span class="p">}</span>
    
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lugares</span><span class="p">):</span>
        <span class="n">quocientes</span> <span class="o">=</span> <span class="p">{</span><span class="n">partido</span><span class="p">:</span> <span class="n">votos</span><span class="p">[</span><span class="n">partido</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">distribuicao</span><span class="p">[</span><span class="n">partido</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">partido</span> <span class="ow">in</span> <span class="n">partidos</span><span class="p">}</span>
        <span class="n">vencedor</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">quocientes</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">quocientes</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
        <span class="n">distribuicao</span><span class="p">[</span><span class="n">vencedor</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="k">return</span> <span class="n">distribuicao</span>

<span class="k">def</span> <span class="nf">metodo_sainte_lague</span><span class="p">(</span><span class="n">votos</span><span class="p">,</span> <span class="n">lugares</span><span class="p">):</span>
    <span class="n">partidos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">votos</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">distribuicao</span> <span class="o">=</span> <span class="p">{</span><span class="n">partido</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">partido</span> <span class="ow">in</span> <span class="n">partidos</span><span class="p">}</span>
    
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lugares</span><span class="p">):</span>
        <span class="n">quocientes</span> <span class="o">=</span> <span class="p">{</span><span class="n">partido</span><span class="p">:</span> <span class="n">votos</span><span class="p">[</span><span class="n">partido</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">distribuicao</span><span class="p">[</span><span class="n">partido</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">partido</span> <span class="ow">in</span> <span class="n">partidos</span><span class="p">}</span>
        <span class="n">vencedor</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">quocientes</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">quocientes</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
        <span class="n">distribuicao</span><span class="p">[</span><span class="n">vencedor</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="k">return</span> <span class="n">distribuicao</span>

<span class="k">def</span> <span class="nf">comparar_metodos</span><span class="p">(</span><span class="n">votos</span><span class="p">,</span> <span class="n">lugares</span><span class="p">):</span>
    <span class="n">resultado_hondt</span> <span class="o">=</span> <span class="n">metodo_hondt</span><span class="p">(</span><span class="n">votos</span><span class="p">,</span> <span class="n">lugares</span><span class="p">)</span>
    <span class="n">resultado_sainte_lague</span> <span class="o">=</span> <span class="n">metodo_sainte_lague</span><span class="p">(</span><span class="n">votos</span><span class="p">,</span> <span class="n">lugares</span><span class="p">)</span>

    <span class="n">partidos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">votos</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">lugares_hondt</span> <span class="o">=</span> <span class="p">[</span><span class="n">resultado_hondt</span><span class="p">[</span><span class="n">partido</span><span class="p">]</span> <span class="k">for</span> <span class="n">partido</span> <span class="ow">in</span> <span class="n">partidos</span><span class="p">]</span>
    <span class="n">lugares_sainte_lague</span> <span class="o">=</span> <span class="p">[</span><span class="n">resultado_sainte_lague</span><span class="p">[</span><span class="n">partido</span><span class="p">]</span> <span class="k">for</span> <span class="n">partido</span> <span class="ow">in</span> <span class="n">partidos</span><span class="p">]</span>

    <span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">partidos</span><span class="p">))</span>
    <span class="n">width</span> <span class="o">=</span> <span class="mf">0.35</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
    <span class="n">rects1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">([</span><span class="n">i</span> <span class="o">-</span> <span class="n">width</span><span class="o">/</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">],</span> <span class="n">lugares_hondt</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Método de Hondt&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
    <span class="n">rects2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">([</span><span class="n">i</span> <span class="o">+</span> <span class="n">width</span><span class="o">/</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">],</span> <span class="n">lugares_sainte_lague</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Método de Sainte-Laguë&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Número de Lugares&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Comparação entre os métodos de Hondt e Sainte-Laguë&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">partidos</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">rects1</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">rects2</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Distribuição de lugares pelo método de Hondt:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">partido</span><span class="p">,</span> <span class="n">num_lugares</span> <span class="ow">in</span> <span class="n">resultado_hondt</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">partido</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">num_lugares</span><span class="si">}</span><span class="s2"> lugares&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Distribuição de lugares pelo método de Sainte-Laguë:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">partido</span><span class="p">,</span> <span class="n">num_lugares</span> <span class="ow">in</span> <span class="n">resultado_sainte_lague</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">partido</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">num_lugares</span><span class="si">}</span><span class="s2"> lugares&quot;</span><span class="p">)</span>

<span class="c1"># Exemplo de uso</span>

<span class="n">votos</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Partido A&#39;</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span> <span class="s1">&#39;Partido B&#39;</span><span class="p">:</span> <span class="mi">80000</span><span class="p">,</span> <span class="s1">&#39;Partido C&#39;</span><span class="p">:</span> <span class="mi">30000</span><span class="p">,</span> <span class="s1">&#39;Partido D&#39;</span><span class="p">:</span> <span class="mi">20000</span><span class="p">}</span>
<span class="n">lugares</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">comparar_metodos</span><span class="p">(</span><span class="n">votos</span><span class="p">,</span> <span class="n">lugares</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/56e22ccf6f73a6bc1364f33a9a9e855b3f37c1e63168c915dfb8f1e0850e2fa3.png" src="_images/56e22ccf6f73a6bc1364f33a9a9e855b3f37c1e63168c915dfb8f1e0850e2fa3.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Distribuição de lugares pelo método de Hondt:
Partido A: 5 lugares
Partido B: 4 lugares
Partido C: 1 lugares
Partido D: 0 lugares

Distribuição de lugares pelo método de Sainte-Laguë:
Partido A: 4 lugares
Partido B: 4 lugares
Partido C: 1 lugares
Partido D: 1 lugares
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="analise-e-comparacao-de-sistemas-eleitorais">
<h2><span class="section-number">3.3. </span>Análise e Comparação de Sistemas Eleitorais<a class="headerlink" href="#analise-e-comparacao-de-sistemas-eleitorais" title="Link to this heading">#</a></h2>
<p>Nesta seção, vamos analisar e comparar diferentes sistemas eleitorais, destacando suas vantagens e desvantagens.</p>
<p>Após executar o código, poderá observar:</p>
<ul class="simple">
<li><p>Um resumo textual dos resultados para cada sistema eleitoral.</p></li>
<li><p>Dois gráficos de barras comparando os sistemas: (Frequência do vencedor por sistema; Frequência de segunda volta por sistema (será zero para Maioria Simples e Método de Borda))</p></li>
</ul>
<p>Os parâmetros (número de simulações, eleitores e candidatos) podem ser ajustados para explorar diferentes cenários.</p>
<p>Algumas sugestões para discussão com os alunos:</p>
<p>Comparar como a frequência do vencedor varia entre os sistemas.
Analisar a frequência de segunda volta no sistema de Maioria Absoluta e discutir suas implicações.
Discutir como o Método de Borda leva em conta as preferências completas dos eleitores, em contraste com os outros métodos.
Explorar como os resultados mudam ao variar o número de candidatos ou eleitores.</p>
<p>Este código fornece uma base sólida para explorar e comparar esses três sistemas eleitorais de forma visual e quantitativa.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="k">def</span> <span class="nf">simular_eleicao</span><span class="p">(</span><span class="n">num_eleitores</span><span class="p">,</span> <span class="n">num_candidatos</span><span class="p">,</span> <span class="n">sistema_eleitoral</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">sistema_eleitoral</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;maioria_simples&#39;</span><span class="p">,</span> <span class="s1">&#39;maioria_absoluta&#39;</span><span class="p">]:</span>
        <span class="n">votos</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_candidatos</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_eleitores</span><span class="p">)]</span>
        <span class="n">contagem</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">votos</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">sistema_eleitoral</span> <span class="o">==</span> <span class="s1">&#39;maioria_simples&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">contagem</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">contagem</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">sistema_eleitoral</span> <span class="o">==</span> <span class="s1">&#39;maioria_absoluta&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">max</span><span class="p">(</span><span class="n">contagem</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="o">&gt;</span> <span class="n">num_eleitores</span> <span class="o">/</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">contagem</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">contagem</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;Segunda Volta&#39;</span>
    <span class="k">elif</span> <span class="n">sistema_eleitoral</span> <span class="o">==</span> <span class="s1">&#39;borda&#39;</span><span class="p">:</span>
        <span class="n">votos</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_candidatos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">num_candidatos</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_eleitores</span><span class="p">)]</span>
        <span class="n">pontuacao</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_candidatos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)}</span>
        <span class="k">for</span> <span class="n">voto</span> <span class="ow">in</span> <span class="n">votos</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">posicao</span><span class="p">,</span> <span class="n">candidato</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">voto</span><span class="p">):</span>
                <span class="n">pontuacao</span><span class="p">[</span><span class="n">candidato</span><span class="p">]</span> <span class="o">+=</span> <span class="n">num_candidatos</span> <span class="o">-</span> <span class="n">posicao</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">pontuacao</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">pontuacao</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;Sistema não reconhecido&#39;</span>

<span class="k">def</span> <span class="nf">executar_simulacoes</span><span class="p">(</span><span class="n">num_simulacoes</span><span class="p">,</span> <span class="n">num_eleitores</span><span class="p">,</span> <span class="n">num_candidatos</span><span class="p">):</span>
    <span class="n">sistemas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;maioria_simples&#39;</span><span class="p">,</span> <span class="s1">&#39;maioria_absoluta&#39;</span><span class="p">,</span> <span class="s1">&#39;borda&#39;</span><span class="p">]</span>
    <span class="n">resultados</span> <span class="o">=</span> <span class="p">{</span><span class="n">sistema</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">sistema</span> <span class="ow">in</span> <span class="n">sistemas</span><span class="p">}</span>
    
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_simulacoes</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">sistema</span> <span class="ow">in</span> <span class="n">sistemas</span><span class="p">:</span>
            <span class="n">resultados</span><span class="p">[</span><span class="n">sistema</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">simular_eleicao</span><span class="p">(</span><span class="n">num_eleitores</span><span class="p">,</span> <span class="n">num_candidatos</span><span class="p">,</span> <span class="n">sistema</span><span class="p">))</span>
    
    <span class="k">return</span> <span class="n">resultados</span>

<span class="k">def</span> <span class="nf">analisar_resultados</span><span class="p">(</span><span class="n">resultados</span><span class="p">,</span> <span class="n">num_simulacoes</span><span class="p">):</span>
    <span class="n">analise</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">sistema</span><span class="p">,</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">resultados</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">contagem</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
        <span class="n">segunda_volta_freq</span> <span class="o">=</span> <span class="n">contagem</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Segunda Volta&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="n">num_simulacoes</span>
        <span class="n">contagem</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;Segunda Volta&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">contagem</span><span class="p">:</span>
            <span class="n">vencedor</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">contagem</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">contagem</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
            <span class="n">freq_vencedor</span> <span class="o">=</span> <span class="n">contagem</span><span class="p">[</span><span class="n">vencedor</span><span class="p">]</span> <span class="o">/</span> <span class="n">num_simulacoes</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">vencedor</span> <span class="o">=</span> <span class="s1">&#39;Não determinado&#39;</span>
            <span class="n">freq_vencedor</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="n">analise</span><span class="p">[</span><span class="n">sistema</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;vencedor&#39;</span><span class="p">:</span> <span class="n">vencedor</span><span class="p">,</span>
            <span class="s1">&#39;freq_vencedor&#39;</span><span class="p">:</span> <span class="n">freq_vencedor</span><span class="p">,</span>
            <span class="s1">&#39;segunda_volta_freq&#39;</span><span class="p">:</span> <span class="n">segunda_volta_freq</span>
        <span class="p">}</span>
    <span class="k">return</span> <span class="n">analise</span>

<span class="k">def</span> <span class="nf">visualizar_resultados</span><span class="p">(</span><span class="n">analise</span><span class="p">):</span>
    <span class="n">sistemas</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">analise</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">freq_vencedor</span> <span class="o">=</span> <span class="p">[</span><span class="n">analise</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="s1">&#39;freq_vencedor&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sistemas</span><span class="p">]</span>
    <span class="n">segunda_volta_freq</span> <span class="o">=</span> <span class="p">[</span><span class="n">analise</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="s1">&#39;segunda_volta_freq&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sistemas</span><span class="p">]</span>

    <span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

    <span class="c1"># Gráfico de barras para frequência do vencedor</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">sistemas</span><span class="p">,</span> <span class="n">freq_vencedor</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Frequência do Vencedor por Sistema&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Frequência&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">freq_vencedor</span><span class="p">):</span>
        <span class="n">ax1</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">v</span><span class="si">:</span><span class="s1">.2%</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>

    <span class="c1"># Gráfico de barras para frequência de segunda volta</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">sistemas</span><span class="p">,</span> <span class="n">segunda_volta_freq</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Frequência de Segunda Volta por Sistema&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Frequência&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">segunda_volta_freq</span><span class="p">):</span>
        <span class="n">ax2</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">v</span><span class="si">:</span><span class="s1">.2%</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Parâmetros da simulação</span>
<span class="n">num_simulacoes</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="n">num_eleitores</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">num_candidatos</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1"># Executar simulações</span>
<span class="n">resultados</span> <span class="o">=</span> <span class="n">executar_simulacoes</span><span class="p">(</span><span class="n">num_simulacoes</span><span class="p">,</span> <span class="n">num_eleitores</span><span class="p">,</span> <span class="n">num_candidatos</span><span class="p">)</span>

<span class="c1"># Analisar resultados</span>
<span class="n">analise</span> <span class="o">=</span> <span class="n">analisar_resultados</span><span class="p">(</span><span class="n">resultados</span><span class="p">,</span> <span class="n">num_simulacoes</span><span class="p">)</span>

<span class="c1"># Imprimir resultados</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Resultados das simulações (</span><span class="si">{</span><span class="n">num_simulacoes</span><span class="si">}</span><span class="s2"> simulações, </span><span class="si">{</span><span class="n">num_eleitores</span><span class="si">}</span><span class="s2"> eleitores, </span><span class="si">{</span><span class="n">num_candidatos</span><span class="si">}</span><span class="s2"> candidatos):&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">sistema</span><span class="p">,</span> <span class="n">dados</span> <span class="ow">in</span> <span class="n">analise</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">sistema</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Vencedor mais frequente: </span><span class="si">{</span><span class="s1">&#39;Candidato &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">str</span><span class="p">(</span><span class="n">dados</span><span class="p">[</span><span class="s1">&#39;vencedor&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">dados</span><span class="p">[</span><span class="s1">&#39;vencedor&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">&#39;Não determinado&#39;</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">dados</span><span class="p">[</span><span class="s1">&#39;vencedor&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Frequência do vencedor: </span><span class="si">{</span><span class="n">dados</span><span class="p">[</span><span class="s1">&#39;freq_vencedor&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sistema</span> <span class="o">==</span> <span class="s1">&#39;maioria_absoluta&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Frequência de segunda volta: </span><span class="si">{</span><span class="n">dados</span><span class="p">[</span><span class="s1">&#39;segunda_volta_freq&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2%</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Visualizar resultados</span>
<span class="n">visualizar_resultados</span><span class="p">(</span><span class="n">analise</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Resultados das simulações (10000 simulações, 1000 eleitores, 5 candidatos):

Maioria_simples:
  Vencedor mais frequente: Candidato 5
  Frequência do vencedor: 20.52%

Maioria_absoluta:
  Vencedor mais frequente: Não determinado
  Frequência do vencedor: 0.00%
  Frequência de segunda volta: 100.00%

Borda:
  Vencedor mais frequente: Candidato 4
  Frequência do vencedor: 20.32%
</pre></div>
</div>
<img alt="_images/0f6fede17be516ce646ddc572cf7292c91d188f60f5c87e4f531e24be8c3bedc.png" src="_images/0f6fede17be516ce646ddc572cf7292c91d188f60f5c87e4f531e24be8c3bedc.png" />
</div>
</div>
</section>
<section id="questoes">
<h2><span class="section-number">3.4. </span>Questões<a class="headerlink" href="#questoes" title="Link to this heading">#</a></h2>
<section id="maioria-simples">
<h3><span class="section-number">3.4.1. </span>Maioria Simples<a class="headerlink" href="#maioria-simples" title="Link to this heading">#</a></h3>
<p>Numa eleição com três candidatos, os votos são distribuídos da seguinte forma:</p>
<ul class="simple">
<li><p>A: 45 votos</p></li>
<li><p>B: 30 votos</p></li>
<li><p>C: 25 votos</p></li>
</ul>
<p>Quem é o vencedor pela maioria simples?</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Clique para ver a resposta<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><strong>Resposta correta: A</strong></p>
</div>
</details></section>
<section id="maioria-absoluta">
<h3><span class="section-number">3.4.2. </span>Maioria Absoluta<a class="headerlink" href="#maioria-absoluta" title="Link to this heading">#</a></h3>
<p>Numa eleição com três candidatos, os votos são distribuídos da seguinte forma:</p>
<ul class="simple">
<li><p>A: 45 votos</p></li>
<li><p>B: 30 votos</p></li>
<li><p>C: 25 votos</p></li>
</ul>
<p>Há um vencedor pela maioria absoluta?</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Clique para ver a resposta<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><strong>Resposta correta: NÃO</strong></p>
</div>
</details></section>
<section id="metodos-eleitorais">
<h3><span class="section-number">3.4.3. </span>Métodos Eleitorais<a class="headerlink" href="#metodos-eleitorais" title="Link to this heading">#</a></h3>
<p>Qual dos seguintes métodos eleitorais:</p>
<ul class="simple">
<li><p>Maioria Simples</p></li>
<li><p>Maioria Absoluta</p></li>
<li><p>Voto Aleatório</p></li>
</ul>
<p>garante que o vencedor tenha mais de 50% dos votos?</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Clique para ver a resposta<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><strong>Resposta correta: MAIORIA ABSOLUTA</strong></p>
</div>
</details></section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Cap_02.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">2. </span>Modelos Matemáticos nas Eleições</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#metodos-de-partilha-proporcional">3.1. Métodos de partilha proporcional</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sistemas-de-distribuicao-de-mandatos">3.2. Sistemas de distribuição de mandatos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-de-hondt">3.2.1. Método de Hondt</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-de-sainte-lague">3.2.2. Método de Sainte-Laguë</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacao-da-comparacao-entre-os-dois-metodos">3.2.3. Visualização da comparação entre os dois métodos</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-e-comparacao-de-sistemas-eleitorais">3.3. Análise e Comparação de Sistemas Eleitorais</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#questoes">3.4. Questões</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#maioria-simples">3.4.1. Maioria Simples</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#maioria-absoluta">3.4.2. Maioria Absoluta</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodos-eleitorais">3.4.3. Métodos Eleitorais</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Paulo Coelho
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>